{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "object.schema.json",
  "title": "World Object",
  "allOf": [
    { "$ref": "entity_base.schema.json" },
    {
      "type": "object",
      "required": ["kind", "is_portable", "anchor"],
      "additionalProperties": false,
      "properties": {
        "kind": { "type": "string", "const": "object" },
        "is_portable": { "type": "boolean", "const": false },

        "object_type": {
          "type": "string",
          "enum": ["furniture","appliance","door","machine","fixture","plant","surface","structure","other"]
        },

        "anchor": {
          "type": "object",
          "required": ["place_id"],
          "additionalProperties": false,
          "properties": {
            "place_id": { "type": "string" },
            "mount": { "type": "string", "enum": ["floor","wall","ceiling","ground","embedded","free"] },
            "position": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "x": { "type": "number" },
                "y": { "type": "number" },
                "z": { "type": "number" }
              }
            },
            "area": { "type": "string", "maxLength": 40 }
          }
        }
      }
    }
  ]
}
